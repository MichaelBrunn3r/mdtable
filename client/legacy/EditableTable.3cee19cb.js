import{_ as t,a as n,b as o,c as s,i as r,d as e,S as c,s as i,p as a,q as l,f as u,r as h,u as d,v as f,h as v,o as g,w as m,j as x,x as w,y as P,z as p,A as I,B as E,C as y,n as R}from"./client.814e71d0.js";function T(t,n,o){return Math.min(Math.max(t,n),o)}class D{constructor(t,n){this.rowIdx=t,this.columnIdx=n}}class L{constructor(t,n,o,s){this.startPos=new D(t,n),this.endPos=new D(o,s)}collapse(){return this.endPos.rowIdx=this.startPos.rowIdx,this.endPos.columnIdx=this.startPos.columnIdx,this}translate(t,n){return this.startPos.rowIdx+=t,this.startPos.columnIdx+=n,this.endPos.rowIdx+=t,this.endPos.columnIdx+=n,this}constrain(t,n,o,s){return this.startPos.rowIdx=T(this.startPos.rowIdx,t,o),this.startPos.columnIdx=T(this.startPos.columnIdx,n,s),this.endPos.rowIdx=T(this.endPos.rowIdx,t,o),this.endPos.columnIdx=T(this.endPos.columnIdx,n,s),this}setEndPos(t,n){return this.endPos=new D(t,n),this}contains(t,n){return!(t<this.startPos.rowIdx&&t<this.endPos.rowIdx)&&(!(t>this.startPos.rowIdx&&t>this.endPos.rowIdx)&&(!(n>this.startPos.columnIdx&&n>this.endPos.columnIdx)&&!(n<this.startPos.columnIdx&&n<this.endPos.columnIdx)))}atTopEdge(t,n){return this.contains(t,n)&&t===Math.min(this.startPos.rowIdx,this.endPos.rowIdx)}atBottomEdge(t,n){return this.contains(t,n)&&t===Math.max(this.startPos.rowIdx,this.endPos.rowIdx)}atLeftEdge(t,n){return this.contains(t,n)&&n===Math.min(this.startPos.columnIdx,this.endPos.columnIdx)}atRightEdge(t,n){return this.contains(t,n)&&n===Math.max(this.startPos.columnIdx,this.endPos.columnIdx)}}function A(t){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,e=n(t);if(s){var c=n(this).constructor;r=Reflect.construct(e,arguments,c)}else r=e.apply(this,arguments);return o(this,r)}}function M(t,n,o){var s=t.slice();return s[15]=n[o],s[17]=o,s}function B(t,n,o){var s=t.slice();return s[18]=n[o],s[20]=o,s}function b(t,n,o){var s=t.slice();return s[21]=n[o],s[20]=o,s}function k(t){var n,o,s,r,e,c=t[20]+1+"";function i(){return t[9](t[20])}return{c:function(){n=a("td"),o=l(c),s=u(),this.h()},l:function(t){n=h(t,"TD",{class:!0});var r=d(n);o=f(r,c),s=v(r),r.forEach(g),this.h()},h:function(){m(n,"class","aux-cell aux-cell-top svelte-vd9cvy")},m:function(t,c){x(t,n,c),w(n,o),w(n,s),r||(e=P(n,"mousedown",i),r=!0)},p:function(n,o){t=n},d:function(t){t&&g(n),r=!1,e()}}}function j(t){var n,o,s,r,e=t[18]+"";function c(){return t[11](t[17],t[20])}function i(){return t[12](t[17],t[20])}return{c:function(){n=a("td"),o=l(e),this.h()},l:function(t){n=h(t,"TD",{class:!0});var s=d(n);o=f(s,e),s.forEach(g),this.h()},h:function(){var o,s,r,e;m(n,"class","cell svelte-vd9cvy"),p(n,"selection-top",null===(o=t[0])||void 0===o?void 0:o.atTopEdge(t[17],t[20])),p(n,"selection-bottom",null===(s=t[0])||void 0===s?void 0:s.atBottomEdge(t[17],t[20])),p(n,"selection-left",null===(r=t[0])||void 0===r?void 0:r.atLeftEdge(t[17],t[20])),p(n,"selection-right",null===(e=t[0])||void 0===e?void 0:e.atRightEdge(t[17],t[20]))},m:function(t,e){x(t,n,e),w(n,o),s||(r=[P(n,"mousedown",c),P(n,"mouseover",i)],s=!0)},p:function(o,s){var r,e,c,i;(t=o,1&s)&&p(n,"selection-top",null===(r=t[0])||void 0===r?void 0:r.atTopEdge(t[17],t[20]));1&s&&p(n,"selection-bottom",null===(e=t[0])||void 0===e?void 0:e.atBottomEdge(t[17],t[20]));1&s&&p(n,"selection-left",null===(c=t[0])||void 0===c?void 0:c.atLeftEdge(t[17],t[20]));1&s&&p(n,"selection-right",null===(i=t[0])||void 0===i?void 0:i.atRightEdge(t[17],t[20]))},d:function(t){t&&g(n),s=!1,I(r)}}}function S(t){var n,o,s,r,e,c,i,p=t[17]+1+"";function I(){return t[10](t[17])}for(var y=t[15],R=[],T=0;T<y.length;T+=1)R[T]=j(B(t,y,T));return{c:function(){n=a("tr"),o=a("td"),s=l(p),r=u();for(var t=0;t<R.length;t+=1)R[t].c();e=u(),this.h()},l:function(t){n=h(t,"TR",{class:!0});var c=d(n);o=h(c,"TD",{class:!0});var i=d(o);s=f(i,p),i.forEach(g),r=v(c);for(var a=0;a<R.length;a+=1)R[a].l(c);e=v(c),c.forEach(g),this.h()},h:function(){m(o,"class","aux-cell aux-cell-left svelte-vd9cvy"),m(n,"class","svelte-vd9cvy")},m:function(t,a){x(t,n,a),w(n,o),w(o,s),w(n,r);for(var l=0;l<R.length;l+=1)R[l].m(n,null);w(n,e),c||(i=P(o,"mousedown",I),c=!0)},p:function(o,s){if(t=o,15&s){var r;for(y=t[15],r=0;r<y.length;r+=1){var c=B(t,y,r);R[r]?R[r].p(c,s):(R[r]=j(c),R[r].c(),R[r].m(n,e))}for(;r<R.length;r+=1)R[r].d(1);R.length=y.length}},d:function(t){t&&g(n),E(R,t),c=!1,i()}}}function q(t){for(var n,o,s,r,e,c,i,l,f=t[1][0],p=[],T=0;T<f.length;T+=1)p[T]=k(b(t,f,T));for(var D=t[1],L=[],A=0;A<D.length;A+=1)L[A]=S(M(t,D,A));return{c:function(){n=a("div"),o=a("table"),s=a("tr"),r=a("td"),e=u();for(var t=0;t<p.length;t+=1)p[t].c();c=u();for(var i=0;i<L.length;i+=1)L[i].c();this.h()},l:function(t){n=h(t,"DIV",{class:!0});var i=d(n);o=h(i,"TABLE",{class:!0});var a=d(o);s=h(a,"TR",{class:!0});var l=d(s);r=h(l,"TD",{class:!0}),d(r).forEach(g),e=v(l);for(var u=0;u<p.length;u+=1)p[u].l(l);l.forEach(g),c=v(a);for(var f=0;f<L.length;f+=1)L[f].l(a);a.forEach(g),i.forEach(g),this.h()},h:function(){m(r,"class","aux-cell aux-cell-corner svelte-vd9cvy"),m(s,"class","aux-wrapper-top svelte-vd9cvy"),m(o,"class","svelte-vd9cvy"),m(n,"class","wrapper svelte-vd9cvy")},m:function(a,u){x(a,n,u),w(n,o),w(o,s),w(s,r),w(s,e);for(var h=0;h<p.length;h+=1)p[h].m(s,null);w(o,c);for(var d=0;d<L.length;d+=1)L[d].m(o,null);i||(l=[P(window,"keydown",t[7]),P(r,"click",t[8])],i=!0)},p:function(t,n){var r=y(n,1)[0];if(32&r){var e;for(f=t[1][0],e=0;e<f.length;e+=1){var c=b(t,f,e);p[e]?p[e].p(c,r):(p[e]=k(c),p[e].c(),p[e].m(s,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=f.length}if(31&r){var i;for(D=t[1],i=0;i<D.length;i+=1){var a=M(t,D,i);L[i]?L[i].p(a,r):(L[i]=S(a),L[i].c(),L[i].m(o,null))}for(;i<L.length;i+=1)L[i].d(1);L.length=D.length}},i:R,o:R,d:function(t){t&&g(n),E(p,t),E(L,t),i=!1,I(l)}}}function z(t,n,o){var s,r=!1,e=function t(){r=!1,document.removeEventListener("mouseup",t)},c=[["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"],["1","2","3","4","5"]];function i(t,n){o(0,s=new L(t,n,t,n)),r=!0,document.addEventListener("mouseup",e)}function a(t,n){r&&o(0,s=s.setEndPos(t,n))}function l(t){o(0,s=new L(t,0,t,c[0].length-1))}function u(t){o(0,s=new L(0,t,c.length-1,t))}function h(){o(0,s=new L(0,0,c.length-1,c[0].length-1))}return[s,c,i,a,l,u,h,function(t){var n=t.key;"ArrowUp"===n?o(0,s=s.collapse().translate(-1,0).constrain(0,0,c.length-1,c[0].length-1)):"ArrowDown"===n?o(0,s=s.collapse().translate(1,0).constrain(0,0,c.length-1,c[0].length-1)):"ArrowLeft"===n?o(0,s=s.collapse().translate(0,-1).constrain(0,0,c.length-1,c[0].length-1)):"ArrowRight"===n&&o(0,s=s.collapse().translate(0,1).constrain(0,0,c.length-1,c[0].length-1))},function(){return h()},function(t){return u(t)},function(t){return l(t)},function(t,n){return i(t,n)},function(t,n){return a(t,n)}]}var C=function(n){t(a,c);var o=A(a);function a(t){var n;return s(this,a),n=o.call(this),r(e(n),t,z,q,i,{}),n}return a}();export default C;
